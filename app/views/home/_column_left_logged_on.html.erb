<%= javascript_include_tag "left_column" %>

<div class="col-2 d-flex flex-column justify-content-between ms-5" id="column-left">
    <div>
        <div class="mt-3 ms-5 h5" id="icon">
            <i class="fab fa-twitter"></i>
        </div>
        <% if current_user.profile.present? %>
            <div class="mt-3 ms-5">
                <%= link_to content_tag(:i, "", class: "fas fa-home") + " Home", tweets_path, class: "anchor", id:"home", onclick:"solidify('home')" %>
            </div> <!-- will become followers path -->
            <div class="mt-3 ms-5">
                <%= link_to content_tag(:i, "", class: "fas fa-hashtag") + " Explore", tweets_path, class: "anchor" %>
            </div>
            <div class="mt-3 ms-5">
                <%= link_to content_tag(:i, "", class: "fas fa-user") + " Profile", current_user.profile, class: "anchor" %>
            </div>
            <div class="mt-3 ms-5">
                <%= link_to content_tag(:i, "", class: "fas fa-cog") + " Settings",  home_settings_path, class: "anchor" %>
            </div>        
                <div class="mt-4 ms-5">
                    <%= link_to "Tweet", new_tweet_path(profile_id: current_user.profile.id), class: "btn btn-primary col-12" %>
                </div>
        <% end %>     
    </div>
    <% if current_user.profile.present? %>
        <div class="btn-group dropup">
            <button type="button" class="btn btn-outline-dark dropdown-toggle d-flex align-items-center" data-bs-toggle="dropdown" aria-expanded="false">
                <img class="img-fluid" id="column_image" src="<%= current_user.profile.image_url.end_with?('.jpg', '.png', '.bmp', '.svg', '.webp') ? current_user.profile.image_url : 'https://sirajsaleem.com/images/default-profile-image.png' %>" alt="no image" />
                <h5 class="ms-3">
                    <%= current_user.profile.first_name + " " + current_user.profile.last_name %>
                </h5>
            </button>
            <ul class="dropdown-menu">
                <li> <%= link_to "Sign out", destroy_user_session_path, method: :delete, data:{ turbo_method: :delete }, class:"anchor dropdown-item" %> </li>
            </ul>
        </div>
    <% end %>
</div>
